<div class="row no-gutters" ng-init="vm.init()">
    <div class="col-lg-5 pr-lg-2">
        <div class="card mb-3">
            <div class="card-header">
                <h5 class="mb-0">Lista de archivos</h5>
            </div>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center" ng-repeat="file in vm.files">
                    {{ file.nombre }}
                    <span class="badge bg-info rounded-pill white-text">{{ file.para == 1 ? "DROs" : "Particulares"}}</span>
                    <a class="text-300 p-1 ml-6" href="http://127.0.0.1:8000{{file.url}}" target="_blak" download><span
                        class="far fa-arrow-alt-circle-down"></span></a>
                    <a class="text-300 p-1 ml-6" data-bs-toggle="modal" data-bs-target="#deleteModal"
                        ng-click="vm.setFile(file)">
                        <span class="fas fa-backspace"></span></a>
                </li>
            </ul>
        </div>
    </div>
    <div class="col-lg-7 pl-lg-2">
        <div class="sticky-top sticky-sidebar">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Cargar Archivos</h5>
                </div>
                <div class="card-body bg-light">
                    <form ng-submit="vm.sendFile(vm.file)">
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="to" 
                                        ng-model="vm.to" value="true" ng-checked="{{vm.to}}">
                                    <label class="form-check-label" for="to">DROs</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="to" 
                                        ng-model="vm.to" value="false">
                                    <label class="form-check-label" for="to">Particulares</label>
                                </div>
                            </div>
                            <div class="col-lg-9">
                                <div class="form-group">
                                    <label for="file-input">Selecciona un archivo *</label>
                                    <input  class="form-control-file" id="validatedInputGroupCustomFile"  id="file-input" type="file" ng-model="vm.file" base-sixty-four-input required>                                      
                                </div>
                            </div>
                            <div class="col-12 d-flex justify-content-end">
                                <button class="btn btn-primary" type="submit">Cargar </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel">Eliminar archivo {{vm.file.nombre}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            Esta apunto de eliminar el archivo {{vm.file.nombre}}, una vez eliminado este no podr&aacute; ser restaurado.<br>

            <label for="pass">Contrase√±a</label>
            <input type="password" id="pass" class="form-control" ng-model="vm.file.contrasenia" required>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal" ng-click="vm.deleteFile(vm.file)">Eliminar</button>
        </div>
      </div>
    </div>
</div>